{"ast":null,"code":"const express = require('express');\nconst app = express();\nconst PORT = 3001; // Choose any available port number\n\n// Middleware to parse JSON requests\napp.use(express.json());\n\n// Start the server\n\nconst mysql = require('mysql2');\nconst db = mysql.createConnection({\n  host: 'localhost',\n  // Replace with your MySQL host\n  user: 'root',\n  password: '',\n  database: 'first_test',\n  port: 3306\n});\napp.post('/add-element', (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  // Perform the database insertion\n  const sql = 'INSERT INTO users (username, password) VALUES (?, ?)';\n  db.query(sql, [username, password], (err, result) => {\n    if (err) {\n      console.error('Error inserting data into the database: ', err);\n      res.status(500).json({\n        error: 'Failed to add element to the database'\n      });\n    } else {\n      console.log('Element added to the database:', result);\n      res.status(200).json({\n        message: 'Element added successfully'\n      });\n    }\n  });\n});\ndb.connect(err => {\n  if (err) {\n    console.error('Error connecting to the database: ', err);\n  } else {\n    console.log('Connected to MySQL database!');\n  }\n});\napp.listen(PORT, () => {\n  console.log(`Server listening on port ${PORT}`);\n});","map":{"version":3,"names":["express","require","app","PORT","use","json","mysql","db","createConnection","host","user","password","database","port","post","req","res","username","body","sql","query","err","result","console","error","status","log","message","connect","listen"],"sources":["C:/Users/ademc/cyber_centrleye/centrleye-07-03-23/src/server/server.js"],"sourcesContent":["const express = require('express');\r\nconst app = express();\r\nconst PORT = 3001; // Choose any available port number\r\n\r\n// Middleware to parse JSON requests\r\napp.use(express.json());\r\n\r\n// Start the server\r\n\r\nconst mysql = require('mysql2');\r\n\r\nconst db = mysql.createConnection({\r\n  host: 'localhost', // Replace with your MySQL host\r\n  user: 'root',\r\n  password: '',\r\n  database: 'first_test',\r\n  port: 3306\r\n});\r\n\r\n\r\napp.post('/add-element', (req, res) => {\r\n    const { username, password } = req.body;\r\n  \r\n    // Perform the database insertion\r\n    const sql = 'INSERT INTO users (username, password) VALUES (?, ?)';\r\n    db.query(sql, [username, password], (err, result) => {\r\n      if (err) {\r\n        console.error('Error inserting data into the database: ', err);\r\n        res.status(500).json({ error: 'Failed to add element to the database' });\r\n      } else {\r\n        console.log('Element added to the database:', result);\r\n        res.status(200).json({ message: 'Element added successfully' });\r\n      }\r\n    });\r\n  });\r\n\r\ndb.connect((err) => {\r\n  if (err) {\r\n    console.error('Error connecting to the database: ', err);\r\n  } else {\r\n    console.log('Connected to MySQL database!');\r\n  }\r\n});\r\n\r\n\r\napp.listen(PORT, () => {\r\n    console.log(`Server listening on port ${PORT}`);\r\n  });\r\n\r\n\r\n  \r\n  "],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,GAAG,GAAGF,OAAO,CAAC,CAAC;AACrB,MAAMG,IAAI,GAAG,IAAI,CAAC,CAAC;;AAEnB;AACAD,GAAG,CAACE,GAAG,CAACJ,OAAO,CAACK,IAAI,CAAC,CAAC,CAAC;;AAEvB;;AAEA,MAAMC,KAAK,GAAGL,OAAO,CAAC,QAAQ,CAAC;AAE/B,MAAMM,EAAE,GAAGD,KAAK,CAACE,gBAAgB,CAAC;EAChCC,IAAI,EAAE,WAAW;EAAE;EACnBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,EAAE;EACZC,QAAQ,EAAE,YAAY;EACtBC,IAAI,EAAE;AACR,CAAC,CAAC;AAGFX,GAAG,CAACY,IAAI,CAAC,cAAc,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACnC,MAAM;IAAEC,QAAQ;IAAEN;EAAS,CAAC,GAAGI,GAAG,CAACG,IAAI;;EAEvC;EACA,MAAMC,GAAG,GAAG,sDAAsD;EAClEZ,EAAE,CAACa,KAAK,CAACD,GAAG,EAAE,CAACF,QAAQ,EAAEN,QAAQ,CAAC,EAAE,CAACU,GAAG,EAAEC,MAAM,KAAK;IACnD,IAAID,GAAG,EAAE;MACPE,OAAO,CAACC,KAAK,CAAC,0CAA0C,EAAEH,GAAG,CAAC;MAC9DL,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACpB,IAAI,CAAC;QAAEmB,KAAK,EAAE;MAAwC,CAAC,CAAC;IAC1E,CAAC,MAAM;MACLD,OAAO,CAACG,GAAG,CAAC,gCAAgC,EAAEJ,MAAM,CAAC;MACrDN,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACpB,IAAI,CAAC;QAAEsB,OAAO,EAAE;MAA6B,CAAC,CAAC;IACjE;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEJpB,EAAE,CAACqB,OAAO,CAAEP,GAAG,IAAK;EAClB,IAAIA,GAAG,EAAE;IACPE,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAEH,GAAG,CAAC;EAC1D,CAAC,MAAM;IACLE,OAAO,CAACG,GAAG,CAAC,8BAA8B,CAAC;EAC7C;AACF,CAAC,CAAC;AAGFxB,GAAG,CAAC2B,MAAM,CAAC1B,IAAI,EAAE,MAAM;EACnBoB,OAAO,CAACG,GAAG,CAAE,4BAA2BvB,IAAK,EAAC,CAAC;AACjD,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}